(()=>{"use strict";const e=function(e,t){return Math.floor(Math.random()*(t-e)+e)},t=function(e,t,o){const r=Math.random()*(t-e)+e;if(!(e>t||e<=0||e==t))return r.toFixed(o)},o=function(t){return t[e(0,t.length-1)]},r=["img/avatars/user01.png","img/avatars/user02.png","img/avatars/user03.png","img/avatars/user04.png","img/avatars/user05.png","img/avatars/user06.png","img/avatars/user07.png","img/avatars/user08.png"],n=["Дом 100 кв.м","Квартира 23 кв.м","Гараж"],a=["palace","flat","house","hyngalow"],c=["12:00","13:00","14:00"],p=["12:00","13:00","14:00"],s=["wift","wishaser","parking","washer","elevator","conditioner"],u=["Все четко","Хорошая квартира не дорого","Огромный дом для тусы"],i=["img/avatars/default.png"],l=l=>{const f=[];for(let d=0;d<l;d++)f.push({author:{avatar:o(r)},offer:{title:o(n),address:`${location.x}, ${location.y}`,price:e(10,1e3),type:o(a),rows:e(1,10),quest:e(20,50),checkin:o(c),checkout:o(p),features:o(s),description:o(u),photos:o(i)},location:{x:t(35.65,35.7,8),y:t(139.7,139.8,8)}});return f},f=(l(10),document.querySelector(".map__canvas")),d=document.querySelector("#card").content.querySelector(".popup"),m=l(),g=document.createDocumentFragment();m.forEach((e=>{const t=d.cloneNode(!0);t.querySelector(".popup__title").textContent=e.offer.title,t.querySelector(".popup__text--address").textContent=e.offer.address,t.querySelector(".popup__text--price").textContent=`${e.offer.price} Р/ночь`,t.querySelector(".popup__type").textContent=e.offer.type,t.querySelector(".popup__text--capacity").textContent=`${e.offer.rows} комнат для ${e.offer.quest} гостей`,t.querySelector(".popup__text--time").textContent=`Заезд после ${e.offer.checkin}, выезд до ${e.offer.checkout}`,t.querySelector(".popup__features").children.textContent=e.offer.features,t.querySelector(".popup__description").textContent=e.offer.description,t.querySelector(".popup__photos").src=e.offer.photos,t.querySelector(".popup__avatar").src=e.author.avatar,g.appendChild(t)})),f.appendChild(g),{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"//api-maps.yandex.ru/2.1/?lang=en_RU",t=function(){var t=e.match(/[\\?&]ns=([^&#]*)/);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))};return this.promise||(this.promise=new Promise((function(t,o){var r=document.createElement("script");r.onload=t,r.onerror=o,r.type="text/javascript",r.src=e,document.body.appendChild(r)})).then((function(){var e=t();return e&&"ymaps"!==e&&(0,eval)("var ymaps = ".concat(e,";")),new Promise((function(e){return ymaps.ready(e)}))}))),this.promise}}.load().then((e=>{!function(e){let t=new e.Map("map",{center:[55.819543,37.611619],zoom:10},{searchControlProvider:"yandex#search"});const o=document.querySelector(".marker");let r,n;function a(e){let t=e.get("delta");n[0]+=t[0],n[1]+=t[1],c()}function c(){o.style.left=`${n[0]}px`,o.style.top=`${n[1]}px`}console.log("markerElement",o),new e.util.Dragger({autoStartElement:o}).events.add("start",(function(e){const t=e.get("position");r=[t[0]-o.offsetLeft,t[1]-o.offsetTop],n=[t[0]-r[0],t[1]-r[1]],c()})).add("move",(function(e){a(e)})).add("stop",(function(e){a(e),n[0]+=r[0],n[1]+=r[1];let o=t.converter.pageToGlobal(n);const c=t.getGlobalPixelCenter(),p=t.container.getSize(),s=[p[0]/2,p[1]/2];if(u=[[c[0]-s[0],c[1]-s[1]],[c[0]+s[0],c[1]+s[1]]],(i=o)[0]>=u[0][0]&&i[0]<=u[1][0]&&i[1]>=u[0][1]&&i[1]<=u[1][1]){let e=t.options.get("projection").fromGlobalPixels(o,t.getZoom());const r=t.getZoom(),n=function(e,t,o){return[Math.floor(e[0]*t/256),Math.floor(e[1]*t/256)]}(o,r);alert(["Координаты: "+e,"Уровень зума: "+r,"Глобальные пиксельные координаты: "+o,"Координаты тайла: "+n].join(" "))}var u,i}))}(e)})).catch((e=>console.log("error",e)))})();
//# sourceMappingURL=main.js.map